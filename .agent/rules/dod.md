# Definition of Done (DoD)

PRやタスクが「完了」とみなされるための基準。

---

## Issue完了の条件

### 必須チェックリスト

- [ ] すべてのACが満たされている
- [ ] テストが追加/更新されている（該当する場合）
- [ ] `/sync-docs` で「差分なし」または差分が承認済み
- [ ] コードレビューが完了している
- [ ] CIが通っている（該当する場合）

### 任意チェックリスト

- [ ] ドキュメントが更新されている
- [ ] パフォーマンスが許容範囲内
- [ ] セキュリティ考慮事項が確認済み

---

## PR完了の条件

### 必須

- AC達成: Issue記載のすべてのACを満たす
- sync-docs実行: `/sync-docs` を実行し、差分を確認
- テスト: 新規/変更コードにテストがある
- レビュー: 最低1名のApprove

### sync-docs結果の扱い

- 差分なし: PRマージ可能
- 差分あり（軽微）: 差分を記録してマージ
- 差分あり（重大）: PRD/Epic更新後にマージ

---

## Epic完了の条件

- [ ] すべての関連Issueがクローズ
- [ ] 必須提出物（3一覧）が最新化されている
- [ ] PRDとの整合性が確認済み

---

## PRD完了の条件

完成チェックリスト（`docs/prd/_template.md` 参照）がすべて満たされていること：

- [ ] 目的・背景が1-3文で書かれている
- [ ] ユーザーストーリーが1つ以上ある
- [ ] 機能要件が3つ以上列挙されている
- [ ] ACが検証可能な形式で3つ以上ある
- [ ] ACに異常系が最低1つある
- [ ] スコープ外が明記されている
- [ ] 曖昧な表現がない
- [ ] 数値・条件が具体的
- [ ] 成功指標が測定可能
- [ ] Q6のUnknownが2つ未満

---

## 見積もり完了の条件

Full形式（11セクション）がすべて記載されていること：

```
0. 前提確認
1. 依頼内容の解釈
2. 変更対象（ファイル:行）
3. 作業項目と工数（レンジ + 信頼度）
4. DB影響          ← N/Aの場合は理由明記
5. ログ出力        ← N/Aの場合は理由明記
6. I/O一覧         ← N/Aの場合は理由明記
7. リファクタ候補  ← N/Aの場合は理由明記
8. フェーズ分割    ← N/Aの場合は理由明記
9. テスト計画
10. 矛盾点/不明点/確認事項
11. 変更しないこと
```

---

## 関連ファイル

- `.agent/rules/docs-sync.md` - ドキュメント同期ルール
- `.agent/commands/sync-docs.md` - 同期コマンド
- `.agent/commands/review.md` - レビューコマンド
- `skills/estimation.md` - 見積もりスキル
